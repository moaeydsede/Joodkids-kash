<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <title>Cash & Wallet Manager VIP</title>
  <link rel="manifest" href="./manifest.json" />
  <link rel="stylesheet" href="./styles.20260205v3.css" />
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo">๐ณ</div>
        <div class="titles">
          <div class="title" id="appTitle">Cash & Wallet Manager VIP</div>
          <div class="subtitle" id="buildTag" data-build="20260205v3">ููุจุงูู โข ุฃุฑุตุฏุฉ + ุนูููุงุช โข CRUD ุนูู Google Sheet โ BUILD 20260205v3</div>
        </div>
      </div>
      <div class="actions">
        <button class="btn ghost" id="btnRefresh" style="display:none;">ุชุญุฏูุซ</button>
        <button class="btn ghost" id="btnPrint" style="display:none;">ุทุจุงุนุฉ</button>
        <button class="btn danger" id="btnLogout" style="display:none;">ุฎุฑูุฌ</button>
      </div>
    </header>

    <main class="content">

      <!-- LOGIN -->
      <section class="card" id="loginCard">
        <div class="row between">
          <h2>ุชุณุฌูู ุงูุฏุฎูู</h2>
          <span class="badge">VIP</span>
        </div>

        <div class="grid2">
          <div class="field">
            <label>ุงุณู ุงููุณุชุฎุฏู</label>
            <input id="u" placeholder="ูุซุงู: Admin" autocomplete="username" />
          </div>
          <div class="field">
            <label>ูููุฉ ุงููุฑูุฑ</label>
            <input id="p" type="password" placeholder="ูุซุงู: 12345" autocomplete="current-password" />
          </div>
        </div>

        <div class="row">
          <button class="btn primary" id="btnLogin">ุฏุฎูู</button>
          <div class="hint" id="loginMsg"></div>
        </div>

        <div class="note">
          ููุงุญุธุฉ: ูุฐุง ุงูุชุทุจูู Static ุนูู GitHub Pagesุ ููุชูุงุตู ูุน Google Sheet ุนุจุฑ Apps Script Web App (API).
        </div>
      </section>

      <!-- APP -->
      <section class="stack" id="appArea" style="display:none;">

        <section class="cards">
          <div class="kpi">
            <div class="kpiLabel">ุฅุฌูุงูู ุงูุฑุตูุฏ ุงูุญุงูู</div>
            <div class="kpiValue" id="grand">0</div>
            <div class="kpiSub" id="todayLabel"></div>
          </div>

          <div class="kpi mini">
            <div class="kpiLabel">ููุจูุถุงุช (ุญุณุจ ุงูููุชุฑ)</div>
            <div class="kpiValue" id="fltRec">0</div>
          </div>
          <div class="kpi mini">
            <div class="kpiLabel">ูุฏููุนุงุช (ุญุณุจ ุงูููุชุฑ)</div>
            <div class="kpiValue" id="fltPay">0</div>
          </div>
          <div class="kpi mini">
            <div class="kpiLabel">ุฑุตูุฏ ุญุชู ุชุงุฑูุฎ (ุฅูู)</div>
            <div class="kpiValue" id="balAt">0</div>
          </div>
        </section>

        <section class="tabs">
          <button class="tabBtn active" data-tab="balancesTab">ุงูุฃุฑุตุฏุฉ</button>
          <button class="tabBtn" data-tab="txnsTab">ุงูุนูููุงุช</button>
        </section>

        <!-- BALANCES -->
        <section class="card tabPanel active" id="balancesTab">
          <div class="row between">
            <h2>ุงูุฃุฑุตุฏุฉ</h2>
            <div class="hint" id="statusMsg"></div>
          </div>

          <div class="balances" id="balancesList"></div>
        </section>

        <!-- TXNS -->
        <section class="card tabPanel" id="txnsTab">
          <div class="row between">
            <h2 id="txTitle">ุงูุนูููุงุช</h2>
            <div class="row">
              <button class="btn" id="btnAdd">ุฅุถุงูุฉ ุนูููุฉ</button>
            </div>
          </div>

          <div class="filters">
            <div class="field">
              <label>ุงูุญุณุงุจ</label>
              <select id="walletPick"></select>
            </div>
            <div class="field">
              <label>ูู</label>
              <input type="date" id="fromPick" />
            </div>
            <div class="field">
              <label>ุฅูู</label>
              <input type="date" id="toPick" />
            </div>
            <div class="field" style="grid-column:1/-1;">
              <label>ุจุญุซ</label>
              <input id="q" placeholder="ุจุญุซ ูู ุงููุตู/ุงููุฑุฌุน/ุงูุญุณุงุจ..." />
            </div>
          </div>

          <div class="txTotals" id="txTotals"></div>

          <div class="tableWrap">
            <table class="table">
              <thead>
                <tr>
                  <th>ุงูุชุงุฑูุฎ</th>
                  <th>ุงูุญุณุงุจ</th>
                  <th>ููุจูุถุงุช</th>
                  <th>ูุฏููุนุงุช</th>
                  <th>ุงููุตู</th>
                  <th></th>
                </tr>
              </thead>
              <tbody id="txBody">
                <tr><td colspan="6" class="muted">ุญููู ุงูุจูุงูุงุช ุฃููุงู</td></tr>
              </tbody>
            </table>
          </div>

          <div class="hint" id="chipUpdated"></div>
        </section>

      </section>
    </main>

    <!-- MODAL -->
    <div class="modal" id="modal" style="display:none;">
      <div class="modalCard">
        <div class="row between">
          <h3 id="mTitle">ุฅุถุงูุฉ ุนูููุฉ</h3>
          <button class="btn ghost" id="btnCloseModal">ุฅุบูุงู</button>
        </div>

        <input type="hidden" id="mMode" value="add" />
        <input type="hidden" id="mRow" value="" />

        <div class="grid2">
          <div class="field">
            <label>ุงูุชุงุฑูุฎ</label>
            <input type="date" id="mDate" />
          </div>

          <div class="field">
            <label>ุงูุญุณุงุจ</label>
            <select id="mWallet"></select>
          </div>

          <div class="field" style="grid-column:1/-1;">
            <label>ุงุณู ุงูุญุณุงุจ (ACCOUNT)</label>
            <input id="mAccount" placeholder="ูุซุงู: ุตูุฏูู / ููุฏุงููู ูุงุด" />
          </div>

          <div class="field">
            <label>ุงูููุจูุถุงุช</label>
            <input id="mRec" type="number" inputmode="decimal" placeholder="0" />
          </div>

          <div class="field">
            <label>ุงููุฏููุนุงุช</label>
            <input id="mPay" type="number" inputmode="decimal" placeholder="0" />
          </div>

          <div class="field" style="grid-column:1/-1;">
            <label>ุงููุตู</label>
            <input id="mDesc" placeholder="ูุซุงู: ุณุฏุงุฏ ุนููู / ูุตุฑูู ุดุญู" />
          </div>

          <div class="field" style="grid-column:1/-1;">
            <label>ูุฑุฌุน (ุงุฎุชูุงุฑู)</label>
            <input id="mRef" placeholder="INV-102" />
          </div>
        </div>

        <div class="row">
          <button class="btn primary" id="btnSaveTxn">ุญูุธ</button>
          <div class="hint" id="mMsg"></div>
        </div>
      </div>
    </div>

  </div>

  <script src="./config.20260205v3.js"></script>
  <script src="./app.20260205v3.js"></script>
</body>
</html>
